@model List<FinalProject.Core.Application.Models.Property.PropertyModel>
@{
    ViewData["Title"] = "Favorite Properties";
}
<div class="container mx-auto px-4 py-6">
	<div class="text-center mb-8">
		<h1 class="text-4xl font-bold">Welcome</h1>
		<p class="mt-2">Find your dream property with <strong>Chequeando</strong></p>
	</div>

	<div class="mb-8">
		<div class="relative">
			<form method="post" asp-action="SearchByCode" asp-controller="Property">
				<input type="text" name="code" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Search for properties by code...">
				<button type="submit" class="absolute top-0 right-0 mt-2 mr-2 text-white bg-indigo-600 hover:bg-indigo-700 p-3 rounded-lg">
					<i class="fas fa-search"></i>
				</button>
			</form>
		</div>
	</div>

	<div class="flex flex-wrap -mx-4">
		<!-- Filter Search -->
		<div class="w-full md:w-1/3 lg:w-1/4 px-4 mb-8 flex flex-col">
			<div class="bg-white p-6 rounded-lg shadow-lg flex-grow">
				<h2 class="text-2xl font-bold mb-4">Filter Properties</h2>
				<form>
					<div class="flex flex-col gap-4">
						<div>
							<label class="block text-gray-700">Property Type</label>
							<select class="w-full p-2 border border-gray-300 rounded-lg">
								<option>House</option>
								<option>Apartment</option>
								<option>Condo</option>
							</select>
						</div>
						<div>
							<label class="block text-gray-700">Price Range</label>
							<div class="flex space-x-2">
								<input type="number" class="w-1/2 p-2 border border-gray-300 rounded-lg" placeholder="Min">
								<input type="number" class="w-1/2 p-2 border border-gray-300 rounded-lg" placeholder="Max">
							</div>
						</div>
						<div>
							<label class="block text-gray-700">Bedrooms</label>
							<select class="w-full p-2 border border-gray-300 rounded-lg">
								<option>Any</option>
								<option>1</option>
								<option>2</option>
								<option>3</option>
								<option>4+</option>
							</select>
						</div>
						<div>
							<label class="block text-gray-700">Bathrooms</label>
							<select class="w-full p-2 border border-gray-300 rounded-lg">
								<option>Any</option>
								<option>1</option>
								<option>2</option>
								<option>3</option>
								<option>4+</option>
							</select>
						</div>
						<div>
							<label class="block text-gray-700">Amenities</label>
							<input type="text" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="Enter amenities">
						</div>
					</div>
					<div class="mt-4">
						<button type="submit" class="w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700">
							Apply Filters
						</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Properties List -->
		<div class="w-full md:w-2/3 lg:w-3/4 px-4 mb-8">
			<div class="bg-white p-6 rounded-lg shadow-lg h-screen overflow-y-auto">
				<h2 class="text-2xl font-bold mb-4">Available Properties</h2>
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
					<!-- Property Card -->
					@foreach (var property in Model)
					{
						<div class="relative border border-gray-300 rounded-lg overflow-hidden shadow-sm block hover:shadow-lg">
							<img src="@Url.Content(property.PropertyImagesUrls.First().ImgUrl)" alt="Property Image" class="w-full">
							<div class="absolute top-2 right-2">
								<form method="post" asp-action="FavoriteProperty" asp-controller="Property">

									<input type="hidden" name="id" value="@property.Id" />
									@if (property.IsMarkAsFavoriteByCurrentUser == true)
									{
										<input type="hidden" name="IsMarktAsFavorite" value="1" />
										<button class="text-red-500 hover:text-gray-700 focus:outline-none text-3xl">
											<i class="fas fa-heart"></i>
										</button>
									}
									@if (property.IsMarkAsFavoriteByCurrentUser == false)
									{
										<input type="hidden" name="IsMarktAsFavorite" value="2" />
										<button class="text-gray-500 hover:text-red-700 focus:outline-none text-3xl">
											<i class="fas fa-heart"></i>
										</button>
									}
								</form>
								@*
							Asi seria en caso para cuando conectemos y queramos que cambie de color si es favorito o no
							<button type="submit" class="text-gray-500 hover:text-red-700">
							<i class="fas fa-heart @((property.IsFavorite) ? "text-red-500" : "text-gray-500")"></i>
							</button> *@
							</div>
							<a hrrf="@Url.Action("Deatil", "Property" , new {id = property.Id})">
								<div class="p-4">
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-code mr-2"></i> Property Code: @property.PropertyCode
									</p>
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-tag mr-2"></i> Sale Type: @property.PropertyTypeName
									</p>
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-dollar-sign mr-2"></i> Price: @property.PropertyPrice
									</p>
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-bed mr-2"></i> Bedrooms: @property.AmountOfBedrooms
									</p>
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-bath mr-2"></i> Bathrooms: @property.AmountOfBathrooms
									</p>
									<p class="text-gray-700 flex items-center">
										<i class="fas fa-ruler-combined mr-2"></i> Size: @property.SizeInMeters sqm
									</p>
								</div>
							</a>
						</div>

					}

					<!-- Repeat Property Card as needed -->
				</div>
			</div>
		</div>
	</div>
</div>










@* @model IEnumerable<Property>

<div class="container mx-auto px-4 py-6">
    <h1 class="text-4xl font-bold text-center mb-6">Your Favorite Properties</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        @foreach (var property in Model)
        {
            <div class="relative border border-gray-300 rounded-lg overflow-hidden shadow-sm block hover:shadow-lg">
                <img src="@property.ImageUrl" alt="Property Image" class="w-full">
                <div class="p-4">
                    <p class="text-gray-700 flex items-center">
                        <i class="fas fa-code mr-2"></i> Property Code: @property.Code
                    </p>
                    <!-- Add more property details here -->
                </div>
            </div>
        }
    </div>
</div> *@
