@model FinalProject.Core.Application.Models.Property.PropertyModel
@{
	ViewData["Title"] = "Property Details";
}
@{
				var userInfo = (FinalProject.Core.Application.Models.User.UserModel)ViewBag.UserInfo;
}

<div class="container mx-auto px-4 py-6">
	<div class="bg-white p-6 rounded-lg shadow-lg">
		<!-- Property Images Slider -->
		<div class="mb-6">
			<div id="property-images" class="carousel slide" data-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">

						<img src="@Url.Content(Model.PropertyImagesUrls.First().ImgUrl)" class="d-block w-100" alt="...">
					</div>

					@for (int i = 1; i < Model.PropertyImagesUrls.Count; i++)
					{
						<div class="carousel-item">

							<img src="@Url.Content(Model.PropertyImagesUrls[i].ImgUrl)" class="d-block w-100" alt="...">
						</div>
					}

				</div>
				<a class="carousel-control-prev" href="#property-images" role="button" data-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#property-images" role="button" data-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>

		<h1 class="text-4xl font-bold mb-4">Property Details</h1>

		<!-- Property Information -->

		<div class="mb-6">

			<p><strong>Property Code:</strong> AP1234</p>

			<p><strong>Property Code:</strong> @Model.PropertyCode</p>

			<p><strong>Property Type:</strong> @Model.PropertyTypeName</p>
			<p><strong>Sale Type:</strong>@Model.SellTypeName</p>
			<p><strong>Price:</strong> @Model.PropertyPrice</p>
			<p><strong>Bedrooms:</strong> @Model.AmountOfBedrooms </p>
			<p><strong>Bathrooms:</strong>@Model.AmountOfBathrooms </p>
			<p><strong>Size:</strong> @Model.SizeInMeters </p>
			<p><strong>Description:</strong> @Model.Description </p>
			<p>
				<strong>Improvements:</strong>
				@foreach (var Perk in Model.PropertyPerks)
				{
				<p>	@Perk.Name </p>
				}
			</p>
		</div>

		<!-- Agent Information -->
		@if (ViewBag.UserInfo is not null)
		{
			
			<div class="bg-gray-100 p-4 rounded-lg shadow-lg">
				<h2 class="text-2xl font-bold mb-4">Agent Information</h2>
				<div class="flex items-center mb-4">
					<img src="@Url.Action(userInfo.ImgProfileUrl)" alt="Agent Photo" class="w-20 h-20 rounded-full mr-4">
					<div>
						<p><strong>Name:</strong> @userInfo.FirstName @userInfo.LastName </p>
						<p><strong>Phone:</strong> @userInfo.PhoneNumber</p>
						<p><strong>Email:</strong> @userInfo.Email </p>
					</div>
				</div>
			</div>
		}

	</div>

</div>

</div>

